{
    "dashboard": {
        "id": null,
        "title": "Censor Telegram Bot Metrics",
        "description": "Dashboard for monitoring Censor Telegram Bot metrics including bot actions, censor results, and HTTP server metrics",
        "timezone": "browser",
        "schemaVersion": 39,
        "version": 1,
        "refresh": "30s",
        "panels": [
            {
                "type": "graph",
                "title": "Bot Actions Over Time",
                "id": 1,
                "gridPos": {
                    "h": 8,
                    "w": 12,
                    "x": 0,
                    "y": 0
                },
                "targets": [
                    {
                        "expr": "rate(bot_processed_actions_total[5m])",
                        "legendFormat": "{{action}} - {{status}}"
                    }
                ],
                "datasource": "Prometheus"
            },
            {
                "type": "stat",
                "title": "Total Bot Actions",
                "id": 2,
                "gridPos": {
                    "h": 4,
                    "w": 6,
                    "x": 12,
                    "y": 0
                },
                "targets": [
                    {
                        "expr": "sum(bot_processed_actions_total)",
                        "stat": "total"
                    }
                ],
                "datasource": "Prometheus"
            },
            {
                "type": "piechart",
                "title": "Bot Action Distribution",
                "id": 3,
                "gridPos": {
                    "h": 8,
                    "w": 6,
                    "x": 18,
                    "y": 0
                },
                "targets": [
                    {
                        "expr": "bot_processed_actions_total",
                        "legendFormat": "{{action}} ({{status}})"
                    }
                ],
                "datasource": "Prometheus"
            },
            {
                "type": "graph",
                "title": "Censor Results Over Time",
                "id": 4,
                "gridPos": {
                    "h": 8,
                    "w": 12,
                    "x": 0,
                    "y": 8
                },
                "targets": [
                    {
                        "expr": "rate(censor_filtered_total[5m])",
                        "legendFormat": "{{result}}"
                    }
                ],
                "datasource": "Prometheus"
            },
            {
                "type": "stat",
                "title": "Total Filtered Messages",
                "id": 5,
                "gridPos": {
                    "h": 4,
                    "w": 6,
                    "x": 12,
                    "y": 8
                },
                "targets": [
                    {
                        "expr": "censor_filtered_total{result=\"filtered\"}",
                        "stat": "total"
                    }
                ],
                "datasource": "Prometheus"
            },
            {
                "type": "piechart",
                "title": "Censor Result Distribution",
                "id": 6,
                "gridPos": {
                    "h": 8,
                    "w": 6,
                    "x": 18,
                    "y": 8
                },
                "targets": [
                    {
                        "expr": "censor_filtered_total",
                        "legendFormat": "{{result}}"
                    }
                ],
                "datasource": "Prometheus"
            },
            {
                "type": "graph",
                "title": "HTTP Request Rate",
                "id": 7,
                "gridPos": {
                    "h": 8,
                    "w": 12,
                    "x": 0,
                    "y": 16
                },
                "targets": [
                    {
                        "expr": "rate(http_requests_total[5m])",
                        "legendFormat": "{{method}} {{path}} {{status}}"
                    }
                ],
                "datasource": "Prometheus"
            },
            {
                "type": "stat",
                "title": "Total HTTP Requests",
                "id": 8,
                "gridPos": {
                    "h": 4,
                    "w": 6,
                    "x": 12,
                    "y": 16
                },
                "targets": [
                    {
                        "expr": "sum(http_requests_total)",
                        "stat": "total"
                    }
                ],
                "datasource": "Prometheus"
            },
            {
                "type": "graph",
                "title": "HTTP Request Duration",
                "id": 9,
                "gridPos": {
                    "h": 8,
                    "w": 12,
                    "x": 0,
                    "y": 24
                },
                "targets": [
                    {
                        "expr": "histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))",
                        "legendFormat": "{{method}} {{path}} p95"
                    }
                ],
                "datasource": "Prometheus"
            },
            {
                "type": "stat",
                "title": "95th Percentile Request Duration",
                "id": 10,
                "gridPos": {
                    "h": 4,
                    "w": 6,
                    "x": 12,
                    "y": 24
                },
                "targets": [
                    {
                        "expr": "histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))",
                        "stat": "max"
                    }
                ],
                "datasource": "Prometheus"
            }
        ],
        "templating": {
            "list": []
        },
        "annotations": {
            "list": []
        },
        "links": [],
        "time": {
            "from": "now-6h",
            "to": "now"
        },
        "timepicker": {
            "refresh_intervals": [
                "5s",
                "10s",
                "30s",
                "1m",
                "5m",
                "15m",
                "30m",
                "1h",
                "2h",
                "1d"
            ],
            "time_options": [
                "5m",
                "15m",
                "1h",
                "6h",
                "12h",
                "24h",
                "2d",
                "7d",
                "30d"
            ]
        }
    }
}